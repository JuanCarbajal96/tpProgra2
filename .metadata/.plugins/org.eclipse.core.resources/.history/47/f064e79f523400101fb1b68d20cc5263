package ar.edu.ungs.prog2.ticketek;

import java.time.LocalDate;
import java.util.HashMap;
import java.util.Map;
import java.util.Map.Entry;

public class Funcion {

	LocalDate fecha;
	Sede sede;
	HashMap<String,Integer> entradasVendidas;
	//	ArrayList<Integer> entradasVendidas;
	Funcion(String fecha,Sede sede) {

		this.fecha = LocalDate.parse(fecha);
		this.sede = sede;
		this.entradasVendidas = new HashMap<>();
		this.entradasVendidas.put("PlateaVIP", 0);
		this.entradasVendidas.put("Platea Comun", 0);
		this.entradasVendidas.put("Platea baja", 0);
		this.entradasVendidas.put("Platea alta", 0);

	}


	@Override
	public String toString() {

		if ( sede.getClass().getSimpleName().equals("Estadio")) {

			return  "(" + fecha + ")" + sede.nombre + entradasVendidas? ;

		}

		else {

			StringBuilder info = new StringBuilder("(" + fecha + ")" + sede.nombre + " - ");

			for (Map.Entry<String, Integer> entrada : entradasVendidas.entrySet()) {

				String nombreSector = entrada.getKey();
				Integer cantidadVendida = entrada.getValue();
				int capacidad = sede.capacidadSector(nombreSector);

				info.append(nombreSector).append(": ")
				.append(cantidadVendida).append(" / ").append(capacidad);

			}

			return info.toString();  








		}








	}






}





