package ar.edu.ungs.prog2.ticketek;

import java.time.LocalDate;
import java.time.format.DateTimeFormatter;
import java.util.HashSet;

public class Espectaculo {

	String nombre;
	HashSet<Funcion> funciones;
	DateTimeFormatter formatter = DateTimeFormatter.ofPattern("dd/MM/yy" ,Local.US);

	Espectaculo(String nombre){
		
		this.nombre = nombre;
		this.funciones = new HashSet<>();;
	}
	
	@Override 
	public String toString() {
		
		StringBuilder info = new StringBuilder();
		
		for (Funcion fun : funciones) {
						
			info.append(fun.toString()).append("\n");
		}
		return info.toString();
		
	}
	
	boolean disponibilidadFecha(String fecha){
		
		LocalDate date = LocalDate.parse(fecha,formatter);
		
		for ( Funcion funcion : funciones) {
			
			if (funcion.fecha.equals(date))
				return false;
		}
		return true;
	}
	
	void agregarFuncion(Funcion funcion) {
		
		funciones.add(funcion);
	}
	
}
